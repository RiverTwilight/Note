---
title: 小程序踩坑记录
---

## update函数
### 1.数据库权限，首先检查当前数据库的集合是否为第一个选项，所有用户可读，仅创建者可读写
### 2.检查集合中的字段是否有openid,如果从外部导入的表需要加上openid字段
### 3.在小程序端使用update只能更新字段中的openid和自己目前的openid相同的字段，如果需要更改别人创建的信息应该在云函数中使用update，具体看官方文档，很简单
### 4.在使用云函数update的时候，记得在cloud.init({env: ‘xxx’})中填写你的环境id，这个坑我真的是搞了好久才发现的
### 5.确保你上传的数据中的data不是undefined,不然成功上传也会显示更新数据为一条

如果还有什么坑欢迎大家在评论分享，希望以上这些方法能为你解决问题
